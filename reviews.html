<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reviews ‚Ä¢ Hamid Javaheri</title>

  <!-- Stylesheets -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/reviews.css">

  <!-- CSV parser must load before reviews.js -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>

<body>
  <!-- Ripple Effect Layer -->
  <div id="ripple"></div>

  <!-- Flashlight Layer -->
  <div id="flashlight"></div>

  <!-- Navigation Bar -->
  <nav class="navbar">
    <button id="hamburger" class="hamburger">&#9776;</button>
    
    <ul class="nav-links">
      <li><a href="index.html#about">About</a></li>
      <li><a href="index.html#skills">Skills</a></li>
      <li><a href="index.html#projects">Projects</a></li>
      <li><a href="index.html#background">Background</a></li>
      <li><a href="index.html#education">Education</a></li>
      <li><a href="index.html#contact">Contact Me</a></li>
    </ul>
    
    <button id="darkModeToggle">
      <span id="modeIcon">‚òÄÔ∏è</span>
    </button>
  </nav>

  <!-- Header Section -->
  <header class="hero">
    <canvas id="particles"></canvas>
    <div class="hero-content">
      <div class="hero-copy">
        <p class="eyebrow">Reviews &amp; trust</p>
        <h1>Reviews about Me!</h1>
        <p class="hero-sub">Everything from collaborators, teammates, and mentors who witnessed the craft, timing, and human clarity I bring to every partnership.</p>
        <div class="hero-actions">
          <a href="#reviews" class="hero-button primary">Explore reviews</a>
          <a href="https://docs.google.com/forms/d/e/1FAIpQLSfo9qf_wV6t8hrU0FACGeKz9ZZ2U5gRw1ZAhB141jGKSkbVwQ/viewform" class="hero-button ghost" target="_blank" rel="noreferrer">Share your take</a>
        </div>
        <div class="hero-tags">
          <span>Craftsmanship</span>
          <span>Reliability</span>
          <span>Trust</span>
        </div>
      </div>
      <div class="hero-panel">
        <p class="panel-label">By the numbers</p>
        <div class="panel-rating">
          <span id="heroAvgScore">0.0/5</span>
          <div class="hero-panel-stars" id="heroStars" aria-hidden="true"></div>
        </div>
        <p class="panel-note">Stable insights drawn directly from verified reviewers across every engagement.</p>
        <div class="panel-accent"></div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <section class="reviews-section">
      <div class="page-header">
        <h2 class="page-title">Reviews</h2>
        <span id="avg" class="badge">0.0/5</span>
      </div>
      <p class="sub">This section shares feedback from others about my work ethic, professionalism, and what it‚Äôs like to collaborate with me, give insight into both my professional skills and the kind of person I am to work with.</p>
      <p class="sub">New reviews appear once approved.</p>

      <!-- Summary header -->
      <div class="summary">
        <div class="summary-left">
          <div class="avg-big" id="avgNum">0.0</div>
          <div class="stars-row" id="avgStars" aria-hidden="true"></div>
          <div class="muted"><span id="totalCount">0</span> ratings</div>
        </div>
        <div class="summary-bars" id="distRows">
          <!-- JS injects 5 rows (5‚òÖ ‚Üí 1‚òÖ) -->
        </div>
      </div>

      <div class="review-controls">
        <p class="control-label">Focus the spotlight</p>
        <div class="filter-pills" role="tablist" aria-label="Select a rating to filter reviews">
          <button class="filter-pill active" type="button" data-rating="all">All</button>
          <button class="filter-pill" type="button" data-rating="5">5‚òÖ</button>
          <button class="filter-pill" type="button" data-rating="4">4‚òÖ</button>
          <button class="filter-pill" type="button" data-rating="3">3‚òÖ</button>
          <button class="filter-pill" type="button" data-rating="2">2‚òÖ</button>
          <button class="filter-pill" type="button" data-rating="1">1‚òÖ</button>
        </div>
        <p id="filterFeedback" class="filter-feedback" aria-live="polite">Showing all reviews</p>
      </div>

      <div id="loading" class="loading">Loading reviews‚Ä¶</div>
      <div id="err" class="err" style="display:none;">Couldn't load reviews right now.</div>
      <div id="empty" class="empty" style="display:none;">No reviews yet.</div>

      <ul id="reviews"></ul>
      <p id="filterEmpty" class="empty" style="display:none;">No reviews match that filter.</p>

      <div class="actions">
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSfo9qf_wV6t8hrU0FACGeKz9ZZ2U5gRw1ZAhB141jGKSkbVwQ/viewform"
          target="_blank" rel="noreferrer">
          Leave a Review
        </a>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Hamid Javaheri. All rights reserved.</p>
  </footer>

  <!-- Ambient Sound -->
  <audio id="ambientAudio" loop preload="auto">
    <source src="sounds/music/ambient.mp3" type="audio/mp3">
  </audio>

  <!-- Audio Controls -->
  <div class="audio-controls">
    <button id="audioToggle" title="Toggle Sound">üîà</button>
    <div class="slider-wrapper">
      <input type="range" id="volumeSlider" min="0" max="100" value="5">
    </div>
  </div>

  <audio id="clickSound" src="sounds/sfx/mouse_click.mp3" preload="auto"></audio>

  <!-- Config: Approved sheet CSV URL -->
  <script>
    window.REVIEWS_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vR_W-Xrxcmum83gHN5CERgH0ZOmoUCUcB-OJex4VdH9SY0oFNhl5eZciObbWvD3aIKFjJjzSBtW8ETF/pub?gid=180390069&single=true&output=csv";
  </script>

  <!-- JavaScript -->
  <script src="js/reviews.js"></script>
</body>
</html>